!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){function n(t){this._name=t||"crossroads router",this._routes=[],this._RouteClass=h.Route,this._RouterClass=n,this._prevRoutes=[],this._piped=[],this._configureSignals&&this._configureSignals(),this.resetState()}var o=r(2),i=r(3);ErrorHandler=i.ErrorHandler,PatternLexer=i.PatternLexer;var s=o.RouteComposer,a=o.RequestParser,u=o.RouteMatcher,c=o.RouterPiper,p=o.RouterSignals,l=utils.Xtender,h=r(1),f=r(4),d=r(5);t.exports={crossroads:crossroads,Crossroads:n,router:o,route:h,util:i,signal:d,routable:f};var g=l.extend(s,a,u,c,p);n.prototype=l.extend(n.prototype,g,ErrorHandler),n.prototype.patternLexer=PatternLexer,n.prototype={greedy:!1,greedyEnabled:!0,ignoreCase:!0,ignoreState:!1,shouldTypecast:!1,normalizeFn:null,_signals:["bypasses","routed","routingError","parsingError"],resetState:function(){this._prevRoutes.length=0,this._prevMatchedRequest=null,this._prevBypassedRequest=null},create:function(t){return new this._RouterClass(t)},toString:function(){return"number of routes:"+this.getNumRoutes()}},crossroads=new n,crossroads.VERSION="::VERSION_NUMBER::",crossroads.NORM_AS_ARRAY=function(t,e){return[e.vals_]},crossroads.NORM_AS_OBJECT=function(t,e){return[e]}},function(t,e,r){function n(t){return isKind(t,"RegExp")}function o(t,e,r,n,o){this._router=n,this._name=o||"unknown",this._pattern=t,this._priority=r||0,this._lexPattern(),this._configureSignals&&this._configureSignals(e)}var i=r(6),s=r(1),a=r(7),u=i.Xtender;o.prototype=a.prototype,o.prototype=u.extend(o.prototype,f,s.RouteRequestParser,s.RouteValidation);var c=u.extend(o.prototype,s.CompositeRoute,s.ChildRoute),p=u.extend(o.prototype,s.CompositeRoute),l=u.extend(o.prototype,s.ChildRoute),h=u.extend(o.prototype,s.RouteActivator,s.RouteSwitcher,s.RouteSignals);t.exports={SignalRoute:h,NestedRoute:c,CompositeRoute:p,ChildRoute:l,Route:o};var f={greedy:!1,rules:void 0,_lexPattern:function(){var t=n(this._pattern),e=this._router.patternLexer,r=this._pattern,o=this.router;this._paramsIds=t?null:e.getParamIds(r),this._optionalParamsIds=t?null:e.getOptionalParamsIds(r),this._matchRegexp=t?r:e.compilePattern(r,o.ignoreCase),this._matchRegexpHead=t?r:e.compilePattern(r,o.ignoreCase,!0)},match:function(t){return t=t||"",this._matchRegexp.test(t)&&this._validateParams(t)},interpolate:function(t){var e=this._router.patternLexer.interpolate(this._pattern,t);return this._validateParams(e)||this._throwError("Generated string doesn't validate against `Route.rules`."),e},_throwError:function(t){throw new Error(t)},dispose:function(){this._router.removeRoute(this)},_destroy:function(){this.matched.dispose(),this.switched.dispose(),this.matched=this.switched=this._pattern=this._matchRegexp=null},_matchListeners:function(){return this.matched.getNumListeners()},toString:function(){var t=[].slice.call(arguments);return 0===t.length&&(t=["name","pattern","priority","matchListeners"]),t.map(function(t){var e=this["_"+t];return e?t+": "+e:""})}}},function(t,e,r){t.exports={RequestParser:r(8),RouteComposer:r(9),RouteMatcher:r(10),RouterPiper:r(11),RouterSignals:r(12)}},function(t,e,r){t.exports={ErrorHandler:r(13),PatternLexer:r(14),RoutesList:r(15)}},function(t,e,r){t.exports={BaseRoutable:r(7),RouteContainer:r(16)}},function(t,e,r){var n=r(6).Xtender;t.exports={SignalHelper:r(17),SignalAware:r(18),Signals:n.extend(this.SignalHelper,this.SignalAware)}},function(t,e,r){function n(t,e){if(t.indexOf)return t.indexOf(e);for(var r=t.length;r--;)if(t[r]===e)return r;return-1}function o(t,e){var r=n(t,e);-1!==r&&t.splice(r,1)}function i(t,e){return"[object "+e+"]"===Object.prototype.toString.call(t)}function s(t){return i(t,"Array")}function a(t){return"function"==typeof t}function u(t){var e;return e=null===t||"null"===t?null:"true"===t?!0:"false"===t?!1:t===l||"undefined"===t?l:""===t||isNaN(t)?t:parseFloat(t)}function c(t){for(var e=t.length,r=[];e--;)r[e]=u(t[e]);return r}function p(t,e){for(var r,n,o=(t||"").replace("?","").split("&"),i=o.length,s={};i--;)r=o[i].split("="),n=e?u(r[1]):r[1],s[r[0]]="string"==typeof n?decodeURIComponent(n):n;return s}var l,h={extend:r(19)};t.exports={arrayIndexOf:n,arrayRemove:o,isKind:i,isArray:s,isFunction:a,typecastValue:u,typecastArrayValues:c,decodeQueryString:p,Xtender:h},Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e})},function(t){t.exports=e;var e=function(t){this._name=t||"unknown"};e.prototype={getName:function(){this._name}}},function(t){t.exports=e;var e={_buildRequest:function(t){return t=t||""},parse:function(t,e){t=this._buildRequest(t||""),e=e||[];try{return this._attemptParse(t,e)}catch(r){this._logError("Parsing error",r),this.parsingError.dispatch(this.parsingError,e.concat([{request:t,error:r}]))}},_attemptParse:function(t,e){if(this.ignoreState||t!==this._prevMatchedRequest&&t!==this._prevBypassedRequest){var r,n=this._getMatchedRoutes(t),o=0,i=n.length;if(i)for(this._prevMatchedRequest=t,this._switchPrevRoutes(t),this._prevRoutes=n;i>o;)r=n[o],r.route.matched.dispatch.apply(r.route.matched,e.concat(r.params)),r.isFirst=!o,this.routed.dispatch.apply(this.routed,e.concat([t,r])),o+=1;else this._prevBypassedRequest=t,this.bypassed.dispatch.apply(this.bypassed,e.concat([t]));"function"==typeof this._pipeParse&&this._pipeParse(t,e)}},_switchPrevRoutes:function(t){for(var e,r=0;e=this._prevRoutes[r++];)e.route.switched&&!e.route.active&&e.route["switch"](t)}}},function(t){t.exports=e;var e={addRoute:function(t,e,r){var n="object"==typeof t&&t._pattern;if(n)return this.addRoute(t._pattern,t._handler,t._priority);var o=t,i=e;e&&"object"==typeof e&&(i=e.handler,r=e.priority);var s=new RouteClass(o,i,r,this);return this._sortedInsert(s),this._routeAdded(s),s},addRoutes:function(t,e){e=e||{reverse:!0};var r=this,n=[];"function"==typeof t.getRoutes&&(n=t.getRoutes());var o="object"==typeof t&&t.length;return(t instanceof Array||o)&&(n=t),routesClone=Array.prototype.slice.call(n),n=e.reverse?routesClone.reverse():routesClone,n.forEach(function(t){var e=Object.create(t);r.addRoute(e)}),n},_sortedInsert:function(t){var e=this._routes,r=e.length;do--r;while(e[r]&&t._priority<=e[r]._priority);e.splice(r+1,0,t)}}},function(t,e,r){t.exports=i;var n=r(8),o=r(6).Xtender;i=o.extend(n,i);var i={_getMatchedRoutes:function(t){for(var e,r=[],n=this._routes,o=n.length;e=n[--o];)e.active=!1;for(o=n.length;(e=n[--o])&&this._matchRoute(t,r,e););return r},_matchRoute:function(t,e,r){try{return this._attemptMatchRoute(t,e,r)}catch(n){this._logError("Parsing error",n),this.routingError.dispatch(this.routingError,{request:t,route:r,error:n})}},_attemptMatchRoute:function(t,e,r){if((!e.length||this.greedy||r.greedy)&&r.match(t))for(var n=r._getParamsArray(t),o=r._selfAndAncestors(),i=o.length;r=o[--i];){var s=r._getParamsArray(t,!0).length,a=n.splice(0,s);if(!r.active){r.active=!0;var u=r.activate(t);this._isPending(u)&&this.handlePendingActivation(r,u),e.push({route:r,params:a})}}return!this.greedyEnabled&&e.length?!1:!0},_selfAndAncestors:function(){for(var t=this,e=[this];t=t._parent;)e.push(t);return e},_isPending:function(t){return"object"==typeof t&&t.pending?!0:!1},handlePendingActivation:function(t,e){console.log("Pending route activation:",t.name,e)}}},function(t){t.exports=e;var e={_pipeParse:function(t,e){for(var r,n=0;r=this._piped[n++];)r.parse(t,e)},getPipedRouters:function(){return this._piped},pipe:function(t){this._piped.push(t)},unpipe:function(t){arrayRemove(this._piped,t)}}},function(t,e,r){t.exports=o;var n=r(5),o=Xtender.extend(n,i),i={_defaultSignalStrategy:function(t){if(this[t]){var e=[].slice.call(arguments,1);this[t].dispatch(e)}else logWarning("No signal for:"+t)}}},function(t){t.exports=e;var e={_errorOutput:console.error,_logError:function(t,e){var r=t+": "+e.toString();this._errorOutput(r)}}},function(t){t.exports=PatternLexer,PatternLexer=function(){function t(){var t,e;for(t in h)h.hasOwnProperty(t)&&(e=h[t],e.id="__CR_"+t+"__",e.save="save"in e?e.save.replace("{{id}}",e.id):e.id,e.rRestore=new RegExp(e.id,"g"))}function e(t,e){var r,n=[];for(t.lastIndex=0;r=t.exec(e);)n.push(r[1]);return n}function r(t){return e(l,t)}function n(t){return e(h.OP.rgx,t)}function o(t,e,r){return t=t||"",t&&(_===f?t=t.replace(c,""):_===g&&(t=t.replace(p,"")),t=i(t,"rgx","save"),t=t.replace(u,"\\$&"),t=i(t,"rRestore","res"),_===f&&(t="\\/?"+t)),_!==d&&(t+="\\/?"),r||(t+="$"),new RegExp("^"+t,e?"i":"")}function i(t,e,r){var n,o;for(o in h)h.hasOwnProperty(o)&&(n=h[o],t=t.replace(n[e],n[r]));return t}function s(t,e,r){var n=e.exec(t);return n&&(n.shift(),r&&(n=typecastArrayValues(n))),n}function a(t,e){if("string"!=typeof t)throw new Error("Route pattern should be a string.");var r=function(t,r){var n;if(r="?"===r.substr(0,1)?r.substr(1):r,null!=e[r]){if("object"==typeof e[r]){var o=[];for(var i in e[r])o.push(encodeURI(i+"="+e[r][i]));n="?"+o.join("&")}else n=String(e[r]);if(-1===t.indexOf("*")&&-1!==n.indexOf("/"))throw new Error('Invalid value "'+n+'" for segment "'+t+'".')}else{if(-1!==t.indexOf("{"))throw new Error("The segment "+t+" is required.");n=""}return n};return h.OS.trail||(h.OS.trail=new RegExp("(?:"+h.OS.id+")+$")),t.replace(h.OS.rgx,h.OS.save).replace(l,r).replace(h.OS.trail,"").replace(h.OS.rRestore,"/")}var u=/[\\.+*?\^$\[\](){}\/'#]/g,c=/^\/|\/$/g,p=/\/$/g,l=/(?:\{|:)([^}:]+)(?:\}|:)/g,h={OS:{rgx:/([:}]|\w(?=\/))\/?(:|(?:\{\?))/g,save:"$1{{id}}$2",res:"\\/?"},RS:{rgx:/([:}])\/?(\{)/g,save:"$1{{id}}$2",res:"\\/"},RQ:{rgx:/\{\?([^}]+)\}/g,res:"\\?([^#]+)"},OQ:{rgx:/:\?([^:]+):/g,res:"(?:\\?([^#]*))?"},OR:{rgx:/:([^:]+)\*:/g,res:"(.*)?"},RR:{rgx:/\{([^}]+)\*\}/g,res:"(.+)"},RP:{rgx:/\{([^}]+)\}/g,res:"([^\\/?]+)"},OP:{rgx:/:([^:]+):/g,res:"([^\\/?]+)?/?"}},f=1,d=2,g=3,_=f;return t(),{strict:function(){_=d},loose:function(){_=f},legacy:function(){_=g},getParamIds:r,getOptionalParamsIds:n,getParamValues:s,compilePattern:o,interpolate:a}}()},function(t){t.exports=e;var e=function(){};e.prototype=Array.prototype,e.prototype.display=function(){return this.map(function(t){return Object.keys(t).map(function(e){return e+": "+t[e]}).join(", ")}).join("\n")}},function(t,e,r){(function(t){t["export"]=n;var e=r(3).RoutesList,n={_routeSignals:["routeWasAdded","routeWasRemoved"],getRoutes:function(){return this._routes||[]},getNumRoutes:function(){return this.getRoutes().length},getRoutesBy:function(t){t=t||["name","pattern","priority","greedy","paramsIds","optionalParamsIds"],"string"==typeof t&&(t=[t]),arguments.length>1&&(t=[].slice.call(arguments));var r=new e(this.getRoutes());return r.map(function(e){var r={};return t.forEach(function(t){var n=e["_"+t];!n||n instanceof Array&&0===n.length||(r[t]=n)}),r})},addRoutes:function(t,e){e=e||{};var r=e.transformer,n=this,o=[];"function"==typeof t.getRoutes&&(o=t.getRoutes());var i="object"==typeof t&&t.length;return(t instanceof Array||i)&&(o=t),o="function"==typeof r?r(o):o,o.forEach(function(t){var e=Object.create(t);n.addRoute(e)}),o},removeRoute:function(t){arrayRemove(this._routes,t),t._destroy(),this._routeRemoved(t)},removeAllRoutes:function(){for(var t=this.getNumRoutes();t--;)this._routes[t]._destroy();this._routes.length=0},_routeAdded:function(t){this._dispatch("routeWasAdded",t)},_routeRemoved:function(t){this._dispatch("routeWasRemoved",t)}}}).call(e,r(20)(t))},function(t){t.exports=e,Signal&&(Signal.prototype.isActive=function(){return this.active&&this.getNumListeners()>0});var e={_isSignalDelegate:function(t){if(!t)return!1;var e=t._defaultSignalStrategy;return e&&"function"==typeof e},_delegateSignal:function(t,e,r){return _isSignalDelegate(e)?(e._defaultSignalStrategy(t,r),!0):!1},_isActiveSignal:function(t){return t&&t.isActive()},_canDispatch:function(t){return this._isActiveSignal(t)},_dispatch:function(t){if(this._canDispatch(t)){var e=this[t],r=[].slice.call(arguments,1);e.dispatch(r)}}}},function(t){t.exports=e;var e={_configureSignals:function(){if(!(this._signals instanceof Array))throw Error("Any SignalsAware class should have an array of Signals in ._signals");for(signal in this._signals)this[signal]=this._createSignal()},_createSignal:function(){return new signals.Signal}}},function(t){function e(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])}return t}t.exports=e},function(t){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}]);